<div class="text-center jumobtron-container mb-5">
  <img src="http://static1.squarespace.com/static/5aabcf9e4cde7a641fb885cb/5e6fb771477c7b0169b21fe5/5e99fdf59eff8e088f3129c8/1601311388124/puzzles+1.jpg?format=1500w" class="backg-img-main img-fluid">
  <h1 class="ml6 text-danger centered"><span class="text-wrapper"><span class="letters">Choose your cats !</span></span></h1>
</div>  

<div class="d-flex flex-wrap justify-content-center ">
  <%# Create a card for each item %>
  <div class="container"> 
      <div class="row">
    <% @items.each_with_index do |item, index| %>  
        <%= render "card", item: item%>
    <% end %>
      </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Wrap every letter in a span
    const textWrapper = document.querySelector('.ml6 .letters');
    textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

    anime.timeline({loop: true})
      .add({
        targets: '.ml6 .letter',
        translateY: ["1.1em", 0],
        translateZ: 0,
        duration: 750,
        delay: (el, i) => 50 * i
      }).add({
        targets: '.ml6',
        opacity: 0,
        duration: 1000,
        easing: "easeOutExpo",
        delay: 1000
      });
  }, false);
</script>
